term();
f = file.new("scripts/configs/inv_data/backup");
file.createFolder(f);

scripts/configs/inv_data/backup/<player_id>
backup_1_<timestamp>.snuvic
backup_2_<timestamp>.snuvic
backup_3_<timestamp>.snuvic
backup_4_<timestamp>.snuvic
backup_5_<timestamp>.snuvic
backup_6_<timestamp>.snuvic
backup_7_<timestamp>.snuvic
backup_8_<timestamp>.snuvic
backup_9_<timestamp>.snuvic
backup_10_<timestamp>.snuvic

function backup() {
	player_id = player.getId(player);
	from_file = string.concat("scripts/configs/inv_data/survival/", player_id, ".snuvic");
	if(!file.exists(from_file)) {
		return;
	}
	
	f_map = map.new();
	dir = file.new(string.concat("scripts/configs/inv_data/backup/", player_id));
	if(!file.exists(dir)) {
		file.createFolder(dir);
	}
	
	file_list = file.getList(dir);
	iter = iterator(file_list);
	while(hasNext(iter)) {
		f = next(iter);
		f_name = file.getName(f);
		split_list = string.split("_", f_name);
		number = list.getIndex(split_list, 1);
		map.add(f_map, number, f);
	}
	
	for(i = 10; i > 0; i--) {
		f = map.get(f_map, i);
		if(f == null) {
			continue;
		}
		if(f = 10) {
			file.delete(f);
			continue;
		}
		f_name = string.concat("backup_", string.number(i + 1));
		file.setName(f, f_name);
	}
	
	cal = time.new(time.getMillis());
	year = string.number(time.getYear(cal));
	month = string.number(time.getMonth(cal));
	day = string.number(time.getDay(cal));
	hour = string.number(time.getHour(cal));
	min = string.number(time.getMinute(cal));
	new_f = file.new(string.concat(dir, "/backup_", string.number(1), "_", year, "_", month, "_", day, "_", hour, "_", min));
	f_list = file.read(from_file);
	file.write(new_f, f_list)
}