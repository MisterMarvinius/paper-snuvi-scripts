event.load("entity_click");

lore_list = list.new();
list.add(lore_list, text.new("§aLeftclick §f= §eBuy"));
list.add(lore_list, text.new("§cRightclick §f= §eSell"));
emerald = item.create("EMERALD", 1, "§fMarket", lore_list);
quest_book = item.create("ENCHANTED_BOOK", 1, "§eQuests", null);
scroll = item.custom.create("SCROLL", 1, "§2Skills", null);
spyglass = item.create("SPYGLASS", 1, "§2Challenges", null);

anna_inv = createMainMenu("Anna", false, true, false, false);
farmer_inv = createMainMenu("Farmer", true, true, false, false);
fisher_inv = createMainMenu("Fisher", true, false, false, false);
miner_inv = createMainMenu("Miner", true, true, false, false);
baker_inv = createMainMenu("Baker", true, false, false, false);
alena_inv = createMainMenu("Alena", true, false, false, false);
mason_inv = createMainMenu("Mason", true, false, false, false);
priest_inv = createMainMenu("Priest", true, false, false, false);
mage_inv = createMainMenu("Mage", true, false, true, false);
lumberjack_inv = createMainMenu("Lumberjack", true, true, true, false);
butcher_inv = createMainMenu("Butcher", true, false, false, true);
librarian_inv = createMainMenu("Librarian", true, false, false, false);
nether_inv = createMainMenu("Nether Merchant", true, false, false, false);
diver_inv = createMainMenu("Diver", true, false, false, false);
mage_guard_inv = createMainMenu("Mage Guard", false, true, false, false);

msg.string("dev", "§bHumans §rloaded.");
@main
wait();
ignoreGoto(event);
goto("main");

@entity_click
if(slot.isOffHand(hand)) {
	goto("main");
}
if(!entity.isHuman(entity)) {
	goto("main");
}
entity_name = human.getName(entity);
if(entity_name == "Farmer") {
	inv.open(farmer_inv, player);
} elseif(entity_name == "Anna") {
	inv.open(anna_inv, player);
} elseif(entity_name == "Miner") {
	inv.open(miner_inv, player);
} elseif(entity_name == "Fisher") {
	inv.open(fisher_inv, player);
} elseif(entity_name == "Baker") {
	inv.open(baker_inv, player);
} elseif(entity_name == "Alena") {
	inv.open(alena_inv, player);
} elseif(entity_name == "Mason") {
	inv.open(mason_inv, player);
} elseif(entity_name == "Priest") {
	inv.open(priest_inv, player);
} elseif(entity_name == "Mage") {
	inv.open(mage_inv, player);
} elseif(entity_name == "Lumberjack") {
	inv.open(lumberjack_inv, player);
} elseif(entity_name == "Butcher") {
	inv.open(butcher_inv, player);
} elseif(entity_name == "Librarian") {
	inv.open(librarian_inv, player);
} elseif(entity_name == "Nether Merchant") {
	inv.open(nether_inv, player);
} elseif(entity_name == "Diver") {
	inv.open(diver_inv, player);
} elseif(entity_name == "Mage Guard") {
	inv.open(mage_guard_inv, player);
}
goto("main");

function createMainMenu(inv_name, market, quests, skills, challenges) {
	inv = inv.new("222222222", text.new(inv_name));
	index = 0;
	if(market) {
		inv.setItem(inv, index++, $emerald);
	}
	if(quests) {
		inv.setItem(inv, index++, $quest_book);
	}
	if(skills) {
		inv.setItem(inv, index++, $scroll);
	}
	if(challenges) {
		inv.setItem(inv, index++, $spyglass);
	}
	return inv;
}
